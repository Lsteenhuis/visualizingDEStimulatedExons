import os
import sys
import argparse
def main():
    #parser = argparse.ArgumentParser(description="Finds out which events overlap on a stimuli")
    #parser.add_argument("-t",dest="time", help="The timepoint", required=True)
    #parser.add_argument("-s",dest="stimuli",help="The stimuli", required=True)

    #results =parser.parse_args()
    #compareFiles(results.time,results.stimuli)
    compareFiles()

def compareFiles():
    dictOfExons = {}
    #filteredDir="/groups/umcg-wijmenga/tmp04/umcg-lsteenhuis/miso/filtered_comparisons/SE/"+time+"/"
    filteredDir="/groups/umcg-wijmenga/tmp04/umcg-lsteenhuis/miso/filtered_comparisons/SE/24h/" 
    try:
        for openFile in os.listdir(filteredDir):
            if ".miso_bf" in openFile:
                with open(filteredDir+openFile, 'r') as misoFile:
                    next(misoFile)
                    for line in misoFile:
                        line = line.rstrip()
                        lineList = line.split("\t")
                        if lineList[0] not in dictOfExons:
                            dictOfExons[lineList[0]] = [openFile]
			    
                        else:
                            if openFile not in dictOfExons[lineList[0]]:
                                dictOfExons[lineList[0]].append(openFile)
    except:
	print "unexpected error happened:"
        raise
    eight = 0
    seven = 0
    six = 0
    five = 0
    four = 0
    three = 0
    two = 0
    one = 0
    writeToFile(dictOfExons)
    #for exon in dictOfExons:
	#print(exon)
        #if len(dictOfExons[exon]) ==  8:
            #writeToFile(dictOfExons[exon],exon,"8")
            #eight += 1
        #elif len(dictOfExons[exon]) == 7:
            #print exon
            #writeToFile(dictOfExons[exon],exon,"7")
            #seven += 1
        #elif len(dictOfExons[exon]) == 6:
            #writeToFile(dictOfExons[exon],exon,"6")
            #six += 1
        #elif len(dictOfExons[exon]) == 5:
            #writeToFile(dictOfExons[exon],exon,"5")
            #five += 1
        #elif len(dictOfExons[exon]) == 4:
            #writeToFile(dictOfExons[exon],exon,"4")
            #four += 1
        #elif len(dictOfExons[exon]) == 3:
            #writeToFile(dictOfExons[exon],exon,"3")
            #three += 1
        #elif len(dictOfExons[exon]) == 2:
            #writeToFile(dictOfExons[exon],exon,"2")
            #two += 1
        #else:
            #one += 1
	#print one
	#print two
	#print three
	#print four
	#print five
	#print six
	#print seven
	#print eight


def writeToFile(dictOfExons):
    highscore=0
    score=0
    #print exon, stimuli, time, amount
    #print listOfStimuli
    #print "highscore"
    for exon in dictOfExons:
    	outFile = open("/groups/umcg-wijmenga/tmp04/umcg-lsteenhuis/miso/exonFiles/SE/sharedExons/"+amount+"listOfSharedExons.txt","w")
    #for stimuli in listOfStimuli:
    #    print >> outFile, stimuli
    #    #outFile.write(listOfStimuli)
    #outFile.close()
    #bam=""




if __name__ == "__main__":
    main()
